<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modern Oda Planlayıcı</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f2f2f2;
        color: #333;
        margin: 0;
        padding: 0;
    }

    header {
        background-color: #2E5E4E;
        color: #fff;
        padding: 20px 0;
        text-align: center;
    }

    .container {
        margin: 50px auto;
        max-width: 800px;
        padding: 0 20px;
    }

    #main-room {
        position: relative;
        border: 1px solid #ccc;
        overflow: hidden;
        border-radius: 10px;
        background-color: #fff;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        width: 100%;
        height: 0;
        padding-bottom: 100%;
    }

    .room {
        position: absolute;
        background-color: #483C32;
        border: 2px solid #555;
        text-align: center;
        color: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        resize: both;
        overflow: auto;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .room:hover {
        transform: scale(1.05);
    }

    .button {
        background-color: #077;
        color: #fff;
        border: none;
        padding: 15px 30px;
        font-size: 18px;
        border-radius: 8px;
        cursor: pointer;
        margin: 10px;
        transition: background-color 0.3s ease, transform 0.2s;
    }

    .button:hover {
        background-color: #055;
        transform: scale(1.05);
    }

    .login-register {
        text-align: center;
        margin-top: 20px;
    }

    .login-register a {
        color: #fff;
        text-decoration: none;
        margin-left: 20px;
    }

    .input-area {
        display: block;
        margin: 20px auto;
        text-align: center;
    }

    .input-area label {
        display: block;
        margin-bottom: 10px;
        font-size: 16px;
    }

    .input-area input {
        width: 200px;
        padding: 10px;
        border-radius: 8px;
        border: 2px solid #ccc;
        font-size: 16px;
    }

    .error-message {
        color: #f00;
        margin-top: 10px;
        font-size: 14px;
    }

    .remove-button {
        position: absolute;
        top: 5px;
        right: 5px;
        cursor: pointer;
        font-size: 18px;
        color: #fff;
    }

    .remove-button:hover {
        color: #f00;
    }
</style>    
</head>
<body>
<header>
    <div class="login-register">
        <a href="login.html" id="login-link">Giriş Yap</a>
        <a href="registration.html" id="register-link">Üye Ol</a>
    </div>
    
    <h1>Modern Oda Planlayıcı</h1>
</header>
<div class="container">
    <div class="input-area">
        <label for="area">Ana Oda Alanı (50-1000 metrekare):</label>
        <input type="number" id="area" name="area" min="50" max="1000">
        <div class="error-message" id="area-error"></div>
    </div>
    <div style="text-align: center;">
        <button class="button" onclick="generateMainRoom()">Ana Oda Oluştur</button>
    </div>
    <div id="main-room"></div>
    <div style="text-align: center;" class="login-register">
        <label for="room-type">Oda Türü Seç:</label>
        <select id="room-type">
            <option value="Oturma Odası">Oturma Odası</option>
            <option value="Mutfak">Mutfak</option>
            <option value="Banyo">Banyo</option>
            <option value="Yatak Odası">Yatak Odası</option>
            <option value="Ofis">Ofis</option>
            <option value="Çocuk Odası">Çocuk Odası</option>
            <!-- وحدد المزيد من الخيارات الأخرى -->
        </select>
        <button class="button" onclick="addRoom()">Oda Ekle</button>
    </div>
</div>

<!-- Yeniden boyutlandırılabilir kütüphaneyi ekleyin -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<script>
    // Giriş yap ve üye ol bağlantıları için yönlendirme işlevselliği ekle
document.getElementById("login-link").onclick = function() {
    window.location.href = "./login.html";
};

document.getElementById("register-link").onclick = function() {
    window.location.href = "./register.php"; // Üye ol sayfasının doğru yolunu eklemelisiniz
};


function generateMainRoom() {
    var areaInput = document.getElementById("area");
    var area = parseInt(areaInput.value);
    var areaError = document.getElementById("area-error");
    if (area >= 50 && area <= 1000) {
        areaError.textContent = ""; // Clear any previous error message
        var mainRoom = document.getElementById("main-room");
        mainRoom.innerHTML = ""; // Mevcut odaları temizle
        mainRoom.style.height = "auto"; // تم تعديل ارتفاع الغرفة الرئيسية
        mainRoom.style.width = "auto"; // تم تعديل عرض الغرفة الرئيسية
        
        // حساب عدد الأعمدة والصفوف بناءً على حجم المساحة المدخلة
        var totalRooms = area / 100; // تقدير عدد الغرف بناءً على 100 متر مربع لكل غرفة
        var cols = Math.ceil(Math.sqrt(totalRooms)); // عدد الأعمدة
        var rows = Math.ceil(totalRooms / cols); // عدد الصفوف
        
        // تحديد حجم كل غرفة
        var roomWidth = Math.floor(mainRoom.clientWidth / cols);
        var roomHeight = Math.floor(mainRoom.clientHeight / rows);
        
        // إنشاء الغرف داخل الغرفة الرئيسية
        for (var i = 0; i < totalRooms; i++) {
            var room = document.createElement("div");
            room.className = "room";
            room.textContent = "غرفة " + (i + 1);
            room.style.width = roomWidth + "px";
            room.style.height = roomHeight + "px";
            
            // حساب موقع كل غرفة
            var colIndex = i % cols;
            var rowIndex = Math.floor(i / cols);
            var leftPosition = colIndex * roomWidth;
            var topPosition = rowIndex * roomHeight;
            
            room.style.left = leftPosition + "px";
            room.style.top = topPosition + "px";
            
            mainRoom.appendChild(room);
            $(room).resizable(); // تمكين إمكانية إعادة التحجيم
        }
    } else {
        areaError.textContent = "الرجاء إدخال قيمة بين 50 و 1000 متر مربع.";
    }
}

function addRoom() {
    var roomType = document.getElementById("room-type").value;
    var mainRoom = document.getElementById("main-room");
    var totalRooms = mainRoom.querySelectorAll(".room").length + 1;
    
    // حساب عدد الأعمدة والصفوف بناءً على عدد الغرف الحالي
    var cols = Math.ceil(Math.sqrt(totalRooms));
    var rows = Math.ceil(totalRooms / cols);
    
    // حجم كل غرفة
    var roomWidth = Math.floor(mainRoom.clientWidth / cols);
    var roomHeight = Math.floor(mainRoom.clientHeight / rows);
    
    // إنشاء الغرفة الجديدة
    var room = document.createElement("div");
    room.className = "room";
    room.textContent = roomType;
    room.style.width = roomWidth + "px";
    room.style.height = roomHeight + "px";
    
    // حساب موقع الغرفة الجديدة
    var colIndex = (totalRooms - 1) % cols;
    var rowIndex = Math.floor((totalRooms - 1) / cols);
    var leftPosition = colIndex * roomWidth;
    var topPosition = rowIndex * roomHeight;
    
    room.style.left = leftPosition + "px";
    room.style.top = topPosition + "px";
    
    mainRoom.appendChild(room);
    $(room).resizable(); // تمكين إمكانية إعادة التحجيم
}

// إضافة وظائف للرابط توجيه الرابط
document.getElementById("login-link").onclick = function() {
    alert("سيتم توجيهك إلى صفحة تسجيل الدخول.");
    // أضف هنا رمز التوجيه إلى صفحة تسجيل الدخول
};

document.getElementById("register-link").onclick = function() {
    alert("سيتم توجيهك إلى صفحة التسجيل.");
    // أضف هنا رمز التوجيه إلى صفحة التسجيل
};
</script>
</body>
</html>
